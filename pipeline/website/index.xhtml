<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title>GenePattern Pipeline Editor</title>
		<link href="styles/jquery-ui.css" type="text/css" rel="stylesheet" />
		<link href="styles/pipelines.css" type="text/css" rel="stylesheet" />
		<script src="js/jquery-1.6.2.js" type="text/javascript" />
 		<script src="js/jquery-ui-1.8.16.js" type="text/javascript" />
 		<script src="js/jquery.jsPlumb-1.3.3-all.js" type="text/javascript" />
		<script src="js/jquery.tools.min.js" type="text/javascript" />
		<script src="js/pipelines.js" type="text/javascript" />
	</head>
	<body onunload="jsPlumb.unload();">
		<div id="library">
			<label for="modulesDropdown" class="ui-autocomplete-input">Select Module: </label>
			<input id="modulesDropdown" />
			<button id="addModule" class="libraryModuleButton">Add</button>&#160;&#160;&#160;
		</div>
        <div id="titleBar"><span id="titleSpan"></span> <img id="pipelinePencil" src="images/pencil.gif" class="pencil" alt="Edit" /></div>
		<div id="workspace"></div>
		<div id="properties">
			<div id="propertiesTitle"></div>
            <div id="propertiesInput" />
            <div id="propertiesSubmit"><button id="propertiesOk">OK</button><button id="propertiesCancel">Cancel</button></div>
		</div>
		<script type="text/javascript">
			// Hard-coded calls for ALL-AML Pipeline
			function createALLAML() {
				var a = editor.addModule("PreprocessDataset");
				var b = editor.addModule("PreprocessDataset");
				var c = editor.addModule("SOMClustering");
				var d = editor.addModule("ClassNeighbors");
				var e = editor.addModule("SOMClusterViewer");
				var f = editor.addModule("GeneListSignificanceViewer");
				var g = editor.addModule("WeightedVotingXValidation");
				var h = editor.addModule("FeatureSummaryViewer");
				var i = editor.addModule("PredictionResultsViewer");
				var j = editor.addModule("WeightedVoting");
				var k = editor.addModule("PredictionResultsViewer");
			}
			
			jsPlumb.ready(function() {
				editor.init();
                // Real URL to query is: /gp/PipelineDesigner/library
				$.getJSON("test.json", function(data) {
					library.init(data);
					createALLAML();
				});
				properties.init();
			});
		</script>
	</body>
</html>
