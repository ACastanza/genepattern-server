//var demo_run_task_info = {
//        "lsid": "urn:lsid:9090.gpdev.gpint01:genepatternmodules:836:7",
//        "name": "PcarrDemoFileChoice",
//        "params": {
//          "staticDropdown": {
//            "index": 0,
//            "displayname": "staticDropdown",
//            "required": true,
//            "type": [
//              2,
//              1
//            ],
//            "choiceInfo": {
//              "choiceAllowCustom": true,
//              "choices": [
//                {
//                  "label": "",
//                  "value": ""
//                },
//                {
//                  "label": "Arabidopsis_thaliana_Ensembl_TAIR10.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Arabidopsis_thaliana_Ensembl_TAIR10.fa"
//                },
//                {
//                  "label": "Arabidopsis_thaliana_Ensembl_TAIR9.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Arabidopsis_thaliana_Ensembl_TAIR9.fa"
//                },
//                {
//                  "label": "Arabidopsis_thaliana_NCBI_build9_1.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Arabidopsis_thaliana_NCBI_build9_1.fa"
//                },
//                {
//                  "label": "Arabidopsis_thaliana_NCBI_TAIR10.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Arabidopsis_thaliana_NCBI_TAIR10.fa"
//                },
//                {
//                  "label": "Bacillus_cereus_ATCC_10987_NCBI_2004-02-13.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Bacillus_cereus_ATCC_10987_NCBI_2004-02-13.fa"
//                },
//                {
//                  "label": "Bos_taurus_NCBI_UMD_3_1.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Bos_taurus_NCBI_UMD_3_1.fa"
//                },
//                {
//                  "label": "Bos_taurus_UCSC_bosTau7.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Bos_taurus_UCSC_bosTau7.fa"
//                },
//                {
//                  "label": "Caenorhabditis_elegans_Ensembl_WBcel215.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Caenorhabditis_elegans_Ensembl_WBcel215.fa"
//                },
//                {
//                  "label": "Caenorhabditis_elegans_Ensembl_WS220.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Caenorhabditis_elegans_Ensembl_WS220.fa"
//                },
//                {
//                  "label": "Caenorhabditis_elegans_UCSC_ce10.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Caenorhabditis_elegans_UCSC_ce10.fa"
//                },
//                {
//                  "label": "Caenorhabditis_elegans_UCSC_ce6.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Caenorhabditis_elegans_UCSC_ce6.fa"
//                },
//                {
//                  "label": "Canis_familiaris_Ensembl_BROADD2.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Canis_familiaris_Ensembl_BROADD2.fa"
//                },
//                {
//                  "label": "Canis_familiaris_Ensembl_CanFam3_1.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Canis_familiaris_Ensembl_CanFam3_1.fa"
//                },
//                {
//                  "label": "Canis_familiaris_NCBI_build2_1.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Canis_familiaris_NCBI_build2_1.fa"
//                },
//                {
//                  "label": "Canis_familiaris_NCBI_build3_1.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Canis_familiaris_NCBI_build3_1.fa"
//                },
//                {
//                  "label": "Drosophila_melanogaster_Ensembl_BDGP5.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Drosophila_melanogaster_Ensembl_BDGP5.fa"
//                },
//                {
//                  "label": "Drosophila_melanogaster_NCBI_build5_41.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Drosophila_melanogaster_NCBI_build5_41.fa"
//                },
//                {
//                  "label": "Drosophila_melanogaster_UCSC_dm3.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Drosophila_melanogaster_UCSC_dm3.fa"
//                },
//                {
//                  "label": "Escherichia_coli_K_12_DH10B_Ensembl_EB1.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Escherichia_coli_K_12_DH10B_Ensembl_EB1.fa"
//                },
//                {
//                  "label": "Escherichia_coli_K_12_MG1655_NCBI_2001-10-15.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Escherichia_coli_K_12_MG1655_NCBI_2001-10-15.fa"
//                },
//                {
//                  "label": "Homo_sapiens_Ensembl_GRCh37.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Homo_sapiens_Ensembl_GRCh37.fa"
//                },
//                {
//                  "label": "Homo_sapiens_NCBI_build37_2.fa",
//                  "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Homo_sapiens_NCBI_build37_2.fa"
//                }
//              ],
//              "href": "http://genepatternbeta.broadinstitute.org:80/gp/rest/v1/tasks/urn:lsid:9090.gpdev.gpint01:genepatternmodules:836:7/staticDropdown/choiceInfo.json",
//              "selectedValue": "",
//              "status": {
//                "flag": "OK",
//                "message": "Initialized static list from manifest"
//              }
//            },
//            "allowMultiple": false,
//            "initialChoiceValues": true,
//            "minValue": 1,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "",
//            "isBatch": false,
//            "count": 0
//          },
//          "gtf": {
//            "index": 1,
//            "displayname": "gtf",
//            "required": false,
//            "type": [
//              2,
//              1
//            ],
//            "choiceInfo": {
//              "choiceAllowCustom": true,
//              "choiceDir": "ftp://gpftp.broadinstitute.org/rna_seq/referenceAnnotation/gtf",
//              "choices": [],
//              "href": "http://genepatternbeta.broadinstitute.org:80/gp/rest/v1/tasks/urn:lsid:9090.gpdev.gpint01:genepatternmodules:836:7/gtf/choiceInfo.json",
//              "status": {
//                "flag": "ERROR",
//                "message": "Unexpected error listing files from ftp://gpftp.broadinstitute.org/rna_seq/referenceAnnotation/gtf, org.genepattern.server.job.input.choice.ftp.ListFtpDirException"
//              }
//            },
//            "allowMultiple": false,
//            "initialChoiceValues": true,
//            "minValue": 0,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "Load gtf file from dynamic drop-down,\nftp://gpftp.broadinstitute.org/rna_seq/referenceAnnotation/gtf",
//            "isBatch": false,
//            "count": 0
//          },
//          "textInput": {
//            "index": 2,
//            "displayname": "textInput",
//            "required": false,
//            "type": [
//              2
//            ],
//            "choiceInfo": {
//              "choiceAllowCustom": false,
//              "choices": [
//                {
//                  "label": "None of the above",
//                  "value": ""
//                },
//                {
//                  "label": "A",
//                  "value": "A"
//                },
//                {
//                  "label": "B",
//                  "value": "B"
//                },
//                {
//                  "label": "C",
//                  "value": "C"
//                },
//                {
//                  "label": "D",
//                  "value": "D"
//                }
//              ],
//              "href": "http://genepatternbeta.broadinstitute.org:80/gp/rest/v1/tasks/urn:lsid:9090.gpdev.gpint01:genepatternmodules:836:7/textInput/choiceInfo.json",
//              "selectedValue": "A",
//              "status": {
//                "flag": "OK",
//                "message": "Initialized static list from manifest"
//              }
//            },
//            "allowMultiple": false,
//            "initialChoiceValues": true,
//            "minValue": 0,
//            "maxValue": 1,
//            "default_value": "A",
//            "description": "A text drop-down",
//            "isBatch": false,
//            "initialValues": [
//              {
//                "groupid": "",
//                "values": [
//                  "A"
//                ]
//              }
//            ]
//          },
//          "input.01": {
//            "index": 3,
//            "displayname": "input 01",
//            "required": true,
//            "type": [
//              1
//            ],
//            "allowMultiple": false,
//            "initialChoiceValues": false,
//            "minValue": 1,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "",
//            "isBatch": false
//          },
//          "input.02": {
//            "index": 4,
//            "displayname": "input 02",
//            "required": true,
//            "type": [
//              1
//            ],
//            "allowMultiple": false,
//            "initialChoiceValues": false,
//            "minValue": 1,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "",
//            "isBatch": false
//          },
//          "input.03": {
//            "index": 5,
//            "displayname": "input 03",
//            "required": true,
//            "type": [
//              1
//            ],
//            "allowMultiple": false,
//            "initialChoiceValues": false,
//            "minValue": 1,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "",
//            "isBatch": false
//          },
//          "input.04": {
//            "index": 6,
//            "displayname": "input 04",
//            "required": true,
//            "type": [
//              1
//            ],
//            "allowMultiple": false,
//            "initialChoiceValues": false,
//            "minValue": 1,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "",
//            "isBatch": false
//          },
//          "input.05": {
//            "index": 7,
//            "displayname": "input 05",
//            "required": true,
//            "type": [
//              1
//            ],
//            "allowMultiple": false,
//            "initialChoiceValues": false,
//            "minValue": 1,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "",
//            "isBatch": false
//          },
//          "input.06": {
//            "index": 8,
//            "displayname": "input 06",
//            "required": true,
//            "type": [
//              1
//            ],
//            "allowMultiple": false,
//            "initialChoiceValues": false,
//            "minValue": 1,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "",
//            "isBatch": false
//          },
//          "input.07": {
//            "index": 9,
//            "displayname": "input 07",
//            "required": true,
//            "type": [
//              1
//            ],
//            "allowMultiple": false,
//            "initialChoiceValues": false,
//            "minValue": 1,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "",
//            "isBatch": false
//          },
//          "input.08": {
//            "index": 10,
//            "displayname": "input 08",
//            "required": false,
//            "type": [
//              1
//            ],
//            "allowMultiple": false,
//            "initialChoiceValues": false,
//            "minValue": 0,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "",
//            "isBatch": false
//          },
//          "input.09": {
//            "index": 11,
//            "displayname": "input 09",
//            "required": false,
//            "type": [
//              1
//            ],
//            "allowMultiple": false,
//            "initialChoiceValues": false,
//            "minValue": 0,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "",
//            "isBatch": false
//          },
//          "input.10": {
//            "index": 12,
//            "displayname": "input 10",
//            "required": false,
//            "type": [
//              1
//            ],
//            "allowMultiple": false,
//            "initialChoiceValues": false,
//            "minValue": 0,
//            "maxValue": 1,
//            "default_value": "",
//            "description": "",
//            "isBatch": false
//          }
//        },
//        "sendTo": {
//          "gct": [
//            "gtf"
//          ]
//        },
//        "param_group_ids": {
//          "  ": "paramGroup_0_0"
//        },
//        "reloadJobId": "",
//        "parameterGroups": [
//          {
//            "parameters": [
//              "staticDropdown",
//              "gtf",
//              "textInput",
//              "input.01",
//              "input.02",
//              "input.03",
//              "input.04",
//              "input.05",
//              "input.06",
//              "input.07",
//              "input.08",
//              "input.09",
//              "input.10"
//            ]
//          }
//        ]
//      };

//var staticDropdown=
//{
//    "index": 0,
//    "displayname": "staticDropdown",
//    "required": true,
//    "type": [
//      2,
//      1
//    ],
//    "choiceInfo": {
//      "choiceAllowCustom": true,
//      "choices": [
//        {
//          "label": "",
//          "value": ""
//        },
//        {
//          "label": "Arabidopsis_thaliana_Ensembl_TAIR10.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Arabidopsis_thaliana_Ensembl_TAIR10.fa"
//        },
//        {
//          "label": "Arabidopsis_thaliana_Ensembl_TAIR9.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Arabidopsis_thaliana_Ensembl_TAIR9.fa"
//        },
//        {
//          "label": "Arabidopsis_thaliana_NCBI_build9_1.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Arabidopsis_thaliana_NCBI_build9_1.fa"
//        },
//        {
//          "label": "Arabidopsis_thaliana_NCBI_TAIR10.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Arabidopsis_thaliana_NCBI_TAIR10.fa"
//        },
//        {
//          "label": "Bacillus_cereus_ATCC_10987_NCBI_2004-02-13.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Bacillus_cereus_ATCC_10987_NCBI_2004-02-13.fa"
//        },
//        {
//          "label": "Bos_taurus_NCBI_UMD_3_1.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Bos_taurus_NCBI_UMD_3_1.fa"
//        },
//        {
//          "label": "Bos_taurus_UCSC_bosTau7.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Bos_taurus_UCSC_bosTau7.fa"
//        },
//        {
//          "label": "Caenorhabditis_elegans_Ensembl_WBcel215.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Caenorhabditis_elegans_Ensembl_WBcel215.fa"
//        },
//        {
//          "label": "Caenorhabditis_elegans_Ensembl_WS220.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Caenorhabditis_elegans_Ensembl_WS220.fa"
//        },
//        {
//          "label": "Caenorhabditis_elegans_UCSC_ce10.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Caenorhabditis_elegans_UCSC_ce10.fa"
//        },
//        {
//          "label": "Caenorhabditis_elegans_UCSC_ce6.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Caenorhabditis_elegans_UCSC_ce6.fa"
//        },
//        {
//          "label": "Canis_familiaris_Ensembl_BROADD2.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Canis_familiaris_Ensembl_BROADD2.fa"
//        },
//        {
//          "label": "Canis_familiaris_Ensembl_CanFam3_1.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Canis_familiaris_Ensembl_CanFam3_1.fa"
//        },
//        {
//          "label": "Canis_familiaris_NCBI_build2_1.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Canis_familiaris_NCBI_build2_1.fa"
//        },
//        {
//          "label": "Canis_familiaris_NCBI_build3_1.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Canis_familiaris_NCBI_build3_1.fa"
//        },
//        {
//          "label": "Drosophila_melanogaster_Ensembl_BDGP5.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Drosophila_melanogaster_Ensembl_BDGP5.fa"
//        },
//        {
//          "label": "Drosophila_melanogaster_NCBI_build5_41.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Drosophila_melanogaster_NCBI_build5_41.fa"
//        },
//        {
//          "label": "Drosophila_melanogaster_UCSC_dm3.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Drosophila_melanogaster_UCSC_dm3.fa"
//        },
//        {
//          "label": "Escherichia_coli_K_12_DH10B_Ensembl_EB1.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Escherichia_coli_K_12_DH10B_Ensembl_EB1.fa"
//        },
//        {
//          "label": "Escherichia_coli_K_12_MG1655_NCBI_2001-10-15.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Escherichia_coli_K_12_MG1655_NCBI_2001-10-15.fa"
//        },
//        {
//          "label": "Homo_sapiens_Ensembl_GRCh37.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Homo_sapiens_Ensembl_GRCh37.fa"
//        },
//        {
//          "label": "Homo_sapiens_NCBI_build37_2.fa",
//          "value": "ftp://ftp.broadinstitute.org/pub/genepattern/rna_seq/whole_genomes/Homo_sapiens_NCBI_build37_2.fa"
//        }
//      ],
//      "href": "http://genepatternbeta.broadinstitute.org:80/gp/rest/v1/tasks/urn:lsid:9090.gpdev.gpint01:genepatternmodules:836:7/staticDropdown/choiceInfo.json",
//      "selectedValue": "",
//      "status": {
//        "flag": "OK",
//        "message": "Initialized static list from manifest"
//      }
//    },
//    "allowMultiple": false,
//    "initialChoiceValues": true,
//    "minValue": 1,
//    "maxValue": 1,
//    "default_value": "",
//    "description": "",
//    "isBatch": false,
//    "count": 0
//  };


//test("prettydate basics", function() {
//    var now = "2008/01/28 22:25:00";
//    equal(prettyDate(now, "2008/01/28 22:24:30"), "just now");
//    equal(prettyDate(now, "2008/01/28 22:23:30"), "1 minute ago");
//    equal(prettyDate(now, "2008/01/28 21:23:30"), "1 hour ago");
//    equal(prettyDate(now, "2008/01/27 22:23:30"), "Yesterday");
//    equal(prettyDate(now, "2008/01/26 22:23:30"), "2 days ago");
//    equal(prettyDate(now, "2007/01/26 22:23:30"), undefined);
//});

test("createChoiceDiv", function() {
    // test createFileDivId
    equal(createFileDivId("input.file", ""), "fileDiv-input.file-", "createFileDivId, empty groupId");
    equal(createFileDivId("input.file", null), "fileDiv-input.file-", "createFileDivId, null groupId");
    equal(createFileDivId("input.file", 1), "fileDiv-input.file-1", "createFileDivId, basic groupId");

    // test check matching values
    var testChoiceInfo= {
            choices: [ { "value": "A.txt" }, { value: "B.txt"}, {value: "C.txt"} ]
    };
    deepEqual(getMatchingChoices(
            testChoiceInfo,
            []), // initialValues 
            [], 
            "getMatchingChoices, empty");

    deepEqual(getMatchingChoices(
            testChoiceInfo,
            []), // initialValues 
            [], 
            "getMatchingChoices, empty inital values");

    deepEqual(getMatchingChoices(
            testChoiceInfo, 
            [ "custom_a.txt" ]), // initialValues 
            [], 
            "getMatchingChoices, no matching initial values");

    deepEqual(getMatchingChoices(
            testChoiceInfo, 
            [ "A.txt" ]), // initialValues 
            [ "A.txt" ], 
            "getMatchingChoices, first item");

    // test check custom values
    deepEqual(getCustomChoices(
            { choices: [] },
            ["custom_a.txt"]),
            ["custom_a.txt"],
            "getCustomChoices, empty choices, one initial value");

    deepEqual(getCustomChoices(
            testChoiceInfo,
            ["custom_a.txt"]),
            ["custom_a.txt"],
            "getCustomChoices, with one initial value");

    deepEqual(getCustomChoices(
            testChoiceInfo,
            ["custom_a.txt", "custom_x.txt", "custom_b.txt"]),
            ["custom_a.txt", "custom_x.txt", "custom_b.txt"],
            "getCustomChoices, with multiple values");
  });

