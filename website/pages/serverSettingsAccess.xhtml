<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:t="http://myfaces.apache.org/tomahawk" 
      xmlns:c="http://java.sun.com/jstl/core">
<ui:composition>
<script type="text/javascript" language="javascript">
	/* <![CDATA[ */
	  function showControl(v) {
		var specified= document.getElementsByClassName("specified", "root");
		for (var i=0; i<specified.length; i++) {
			specified[i].style.display=(v == "Specified")? '':'none';
		}
	  }
	  /* ]]> */
  </script>
  <h:form>
    <table width="100%" border="0" cellpadding="0" cellspacing="0" class="barhead-other">
      <tr>
        <td>Access</td>
      </tr>
    </table>
    <p/>
    <table id="root" width="100%" border="0" cellpadding="5" cellspacing="0">
      <tr valign="top">
        <td width="15%">Allow Clients to connect from:</td>
        <td width="50%">
	        <h:selectOneRadio value="#{serverSettingsBean.currentClientMode}" layout="pageDirection" onchange="showControl(this.value);">
	        	<f:selectItem itemValue="Local" itemLabel="Standalone (local connections only)" />
	  			<f:selectItem itemValue="Any" itemLabel="Any Computer" />				
				<f:selectItem itemValue="Specified" itemLabel="These Domains (comma delimited list):" />
			</h:selectOneRadio>
          <br/>
        </td>
      </tr>
      <tr valign="top" class="specified" style="#{(serverSettingsBean.currentClientMode eq 'Specified') ? 'display:' : 'display:none;'}">
        <td width="15%">All Client Modes:</td>
        <td >
          <t:selectOneListbox style="width:50%" size="3" value="#{serverSettingsBean.specifiedClientMode}" onclick="$(clientMode).value=this.value">
  			<f:selectItems value="#{serverSettingsBean.specifiedClientModes}" />
		  </t:selectOneListbox>        
        </td>
      </tr>
      <tr valign="top" class="specified" style="#{(serverSettingsBean.currentClientMode eq 'Specified') ? 'display:' : 'display:none;'}">
        <td>Specified Client Mode:</td>
        <td>
          <t:inputText id="clientMode" forceId="true" size="40" value="#{serverSettingsBean.specifiedClientMode}"/>       
        </td>
      </tr>
      <tr valign="top">
        <td>&#160;</td>
        <td>
          <h:commandButton value="Submit" actionListener="#{serverSettingsBean.addSpecifiedClientMode}"/>
          <h:commandButton value="Restore" actionListener="#{serverSettingsBean.restore}">
	      	<f:attribute name="subtype" value="Module" />
	      </h:commandButton>
	      <h:commandButton styleClass="specified" value="Remove" actionListener="#{serverSettingsBean.removeSpecifiedClientMode}"
          	style="#{(serverSettingsBean.currentClientMode eq 'Specified') ? 'display:' : 'display:none;'}"/>    
        </td>
      </tr>
      
    </table>
    <p/>
  </h:form>
</ui:composition>
</html>
