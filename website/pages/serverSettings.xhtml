<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:t="http://myfaces.apache.org/tomahawk" xmlns:c="http://java.sun.com/jstl/core">
  <ui:composition template="/templates/common.xhtml">
    <ui:define name="headText">
      <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/prototype.js"/>
    </ui:define>
    <ui:define name="pageTitle">GenePattern | Server Settings</ui:define>
    <ui:define name="leftPanel">
      <h:form>
        <td width="242" rowspan="2" valign="top" class="tasks" id="tasks">
          <table width="100%" border="0" cellspacing="0" cellpadding="0">
            <tr>
              <td colspan="5" class="sidebarhead-bkg2">
                <div class="sidebarhead">Server Settings</div>
              </td>
            </tr>
            <tr>
              <td height="6" colspan="5">
                <img src="#{facesContext.externalContext.requestContextPath}/images/spacer.gif" width="1" height="6"/>
              </td>
            </tr>
            <ui:repeat value="#{serverSettingsBean.modes}" var="mode">
              <tr class="#{serverSettingsBean.currentMode == mode ? 'tasks_on' : ''}">
                <td width="9" valign="middle">
                  <img src="#{facesContext.externalContext.requestContextPath}/images/spacer.gif" width="8" height="8"/>
                </td>
                <td width="4" valign="middle">
                  <img src="#{facesContext.externalContext.requestContextPath}/images/bullet-task.gif" alt="bullet" width="4" height="4"/>
                </td>
                <td width="4">
                  <img src="#{facesContext.externalContext.requestContextPath}/images/spacer.gif" width="4" height="1"/>
                </td>
                <td>
                  <h:commandLink value="#{mode}" actionListener="#{serverSettingsBean.modeChanged}" immediate="true">
                     <f:param value="#{mode}" name="mode"/> 
                  </h:commandLink>
                </td>
                <td width="9">
                  <img src="#{facesContext.externalContext.requestContextPath}/images/spacer.gif" width="9" height="1"/>
                </td>
              </tr>
            </ui:repeat>
          </table>
        </td>
      </h:form>
    </ui:define>
    <ui:define name="body">
      <t:div rendered="#{serverSettingsBean.currentMode == 'Access'}">
        <ui:include src="serverSettingsAccess.xhtml"/>       
      </t:div>
      <t:div rendered="#{serverSettingsBean.currentMode == 'Command Line Prefix'}">
        <ui:include src="serverSettingsCLP.xhtml"/>       
      </t:div>
      <t:div rendered="#{serverSettingsBean.currentMode == 'File Purge Settings'}">
        <ui:include src="serverSettingsFilePurge.xhtml"/>       
      </t:div>
      <t:div rendered="#{serverSettingsBean.currentMode == 'History'}">
        <ui:include src="serverSettingsHistory.xhtml"/>       
      </t:div>
      <t:div rendered="#{serverSettingsBean.currentMode == 'Java Flag Settings'}">
        <ui:include src="serverSettingsJavaFlags.xhtml"/>       
      </t:div>
      <t:div rendered="#{serverSettingsBean.currentMode == 'Logs'}">
        <ui:include src="serverSettingsLogs.xhtml"/>       
      </t:div>
      <t:div rendered="#{serverSettingsBean.currentMode == 'Module Repository'}">
        <ui:include src="serverSettingsRepository.xhtml"/>       
      </t:div>
      <t:div rendered="#{serverSettingsBean.currentMode == 'Proxy Settings'}">
        <ui:include src="serverSettingsProxy.xhtml"/>       
      </t:div>
      <t:div rendered="#{serverSettingsBean.currentMode == 'Search Engine'}">
        <ui:include src="serverSettingsSearch.xhtml"/>       
      </t:div>
      <t:div rendered="#{serverSettingsBean.currentMode == 'Shut Down Server'}">
        <ui:include src="serverSettingsShutDown.xhtml"/>       
      </t:div>

    </ui:define>
  </ui:composition>

</html>
