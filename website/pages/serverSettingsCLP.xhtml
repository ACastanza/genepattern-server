<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:t="http://myfaces.apache.org/tomahawk" 
      xmlns:c="http://java.sun.com/jstl/core">
<ui:composition>
  <h:form>
    <table width="100%" border="0" cellpadding="0" cellspacing="0" class="barhead-other">
      <tr>
        <td>Command Line Prefix</td>
      </tr>
    </table>
    <p/>
				Default Command Prefix:<h:inputText size="50"
					value="#{commandPrefixBean.defaultCommandPrefix}"
					id="defaultPrefix" required="false" /> <h:commandButton
					actionListener="#{commandPrefixBean.saveDefaultCommandPrefix}"
					value="submit" />
	  <br></br>
      The default command prefix is used for all modules that do not have an explicit prefix setting below.      
     
	  <br></br>
	  <h:dataTable id="commandPrefixTable" forceId="true" value="#{commandPrefixBean.commandPrefixes}"
					var="aPrefix" binding="#{commandPrefixBean.prefixTable}" width="80%" styleClass="standardTable" headerClass="standardTable_Header">
			<f:facet name="header">
				Additional command prefixes		
			</f:facet>
			<h:column>
				<f:facet name="header">
					<h:panelGroup>
						<h:outputText value="Name" />
					</h:panelGroup>
				</f:facet>
				<h:outputText value="#{aPrefix.key}" />
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:panelGroup>
						<h:outputText value="Content" />
					</h:panelGroup>
				</f:facet>
				<h:outputText value="#{aPrefix.value}" />
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="delete" />
				</f:facet>
				<h:commandButton actionListener="#{commandPrefixBean.deletePrefix}" value="delete" />
			</h:column>
		  </h:dataTable>
		  <br></br>
			
		  <p></p>
		  <b>Add New Prefix:</b>
			
		  name: 
				<h:inputText size="20"
						value="#{commandPrefixBean.newPrefixName}" id="newPrefixName"
						required="true" /> 
						content: <h:inputText size="50"
						value="#{commandPrefixBean.newPrefixValue}" id="newPrefixVal"
						required="true" />			
				<p></p>
				<h:commandButton value="Submit Prefix"
						class="little"
						actionListener="#{commandPrefixBean.saveCommandPrefixes}" />			
			<br></br>
			<p></p>
			<t:dataTable value="#{commandPrefixBean.taskPrefixMapping}" 
					binding="#{commandPrefixBean.tpmappingTable}"
					width="80%"
					var="aPrefixMap" styleClass="standardTable" headerClass="standardTable_Header">
				<h:column>
						<f:facet name="header">
							<h:panelGroup>
								<h:outputText value="Module" />
							</h:panelGroup>
						</f:facet>
						<h:outputText value="#{aPrefixMap.key}" />
				</h:column>
				<h:column>
						<f:facet name="header">
							<h:panelGroup>
								<h:outputText value="Command Prefix Name" />
							</h:panelGroup>
						</f:facet>
						<h:outputText value="#{aPrefixMap.value}" />
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="delete" />
					</f:facet>
					<h:commandButton
								actionListener="#{commandPrefixBean.deleteTaskPrefixMapping}"
								class="little"
								value="delete" />
				</h:column>
			</t:dataTable>
		
	
		<p></p>for modules ...<br></br> 
			<h:selectManyListbox size="6" value="#{commandPrefixBean.newMappingLSID}">
				<f:selectItems value="#{moduleListBean.latestModules}" />
			</h:selectManyListbox> ... use prefix... 
			<h:selectOneMenu value="#{commandPrefixBean.newMappingPrefix}">
				<f:selectItems value="#{commandPrefixBean.commandPrefixesAsSelectItems}" />
			</h:selectOneMenu>
			<p></p>
			<h:commandButton value="Submit Mapping" class="little" actionListener="#{commandPrefixBean.savePrefixTaskMapping}" />
    
    <p/>
</h:form>
 </ui:composition>
</html>
